
<!doctype html>
<html lang="ru">
<header>
    {% load static %}
    {% with request.resolver_match.view_name as view_name %}
    <nav class="navbar navbar-light" style="background-color: lightskyblue;">
        <div class="container">
            <a class="navbar-brand" href="{% url 'posts:index' %}">
                <img src="{% static 'img/logo.png' %}" width="30" height="30" class="d-inline-block align-top" alt=""/>
                <span style="color: red;">Ya</span>tube
            </a>
            <ul class="nav nav-pills">
                <li class="nav-item">
                    <a class="nav-link {% if view_name  == 'about:author' %}active{% endif %}"
                       href="{% url 'about:author' %}"
                    >
                        Об авторе
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if view_name  == 'about:tech' %}active{% endif %}"
                       href="{% url 'about:tech' %}"
                    >
                        Технологии
                    </a>
                </li>
                <!-- пункты меню видны только авторизованному пользователю -->
                {% if user.is_authenticated %}

                <li class="nav-item">
                    <a class="nav-link {% if view_name  == 'posts:post_create' %}active{% endif %}"
                       href="{% url 'posts:post_create' %}"
                    >
                        Новая запись
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if view_name  == 'users:password_change_form' %}active{% endif %}"
                       href="{% url 'users:password_change_form' %}"
                    >
                        Изменить пароль
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if view_name  == 'users:logout' %}active{% endif %}"
                       href="{% url 'users:logout' %}"
                    >
                        Выйти
                    </a>
                <li>
                    Пользователь: {{ user.username }}
                </li>
                {% endif %}
                <!-- конец пункты меню видны только авторизованному пользователю -->

                <!-- пункты меню видны только неавторизованному пользователю -->
                <li class="nav-item">
                    <a class="nav-link {% if view_name  == 'users:login' %}active{% endif %}"
                       href="{% url 'users:login' %}"
                    >
                        Войти на сайт
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if view_name  == 'users:signup' %}active{% endif %}"
                       href="{% url 'users:signup' %}">Регистрация</a>
                </li>
                <!-- конец пункты меню видны только неавторизованному пользователю -->
            </ul>
        </div>
    </nav>
    {% endwith %}
</header>
</html>